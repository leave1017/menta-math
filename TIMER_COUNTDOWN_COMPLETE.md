# âœ… å¯é€‰å€’è®¡æ—¶ + è®¡æ—¶èµ·ç‚¹ä¿®å¤å®Œæˆ

## ğŸ¯ å®Œæˆçš„åŠŸèƒ½

æœ¬æ¬¡å®ç°äº†ä¸¤ä¸ªæ ¸å¿ƒåŠŸèƒ½ï¼š

### 1ï¸âƒ£ ä¿®å¤è®¡æ—¶èµ·ç‚¹å»¶è¯¯
- âœ… è®¡æ—¶ä»ç”¨æˆ·è¾“å…¥**ç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°å­—**æ—¶å¼€å§‹ï¼ˆä¸æ˜¯æäº¤æ—¶ï¼‰
- âœ… æ£€æµ‹ `onChange` äº‹ä»¶ä¸­çš„æœ‰æ•ˆæ•°å­—ï¼ˆ[0-9]ï¼‰
- âœ… åŒæ—¶æ”¯æŒç²˜è´´æ“ä½œè§¦å‘è®¡æ—¶
- âœ… ä½¿ç”¨ `performance.now()` é«˜ç²¾åº¦æ—¶é—´æˆ³ï¼Œé¿å…æ¼‚ç§»

### 2ï¸âƒ£ å¯é€‰å€’è®¡æ—¶åŠŸèƒ½
- âœ… æ–°å¢ "Time (min)" è¾“å…¥æ¡†
- âœ… é»˜è®¤ç©º = æ­£è®¡æ—¶ï¼ˆcount-upï¼‰
- âœ… è¾“å…¥åˆ†é’Ÿæ•° = å€’è®¡æ—¶ï¼ˆcount-downï¼‰
- âœ… å€’è®¡æ—¶åˆ° 0 ç«‹å³ç»“æŸç»ƒä¹ 
- âœ… æå‰å®Œæˆä¹Ÿç«‹å³ç»“æŸ

### 3ï¸âƒ£ å¢å¼ºçš„ç»“æœç»Ÿè®¡
- âœ… Questions answered: X / Total
- âœ… Correct: X
- âœ… Wrong: X
- âœ… Unanswered: Xï¼ˆå•ç‹¬æ˜¾ç¤ºï¼‰
- âœ… Accuracy: åªè®¡ç®—å·²å›ç­”é¢˜ç›®çš„å‡†ç¡®ç‡
- âœ… Speed: Questions per minute

---

## ğŸ“‹ ä¿®æ”¹çš„æ–‡ä»¶ï¼ˆ1 ä¸ªï¼‰

### âœï¸ `src/components/Trainer.tsx`

---

## ğŸ”„ æ ¸å¿ƒå˜åŒ–

### 1. æ–°å¢ Time Limit è¾“å…¥æ¡†

**ä½ç½®**ï¼šé…ç½®åŒºç¬¬ 5 åˆ—ï¼ˆOperation / First / Second / Questions / **Time**ï¼‰

```tsx
<label className="relative">
  <span className="block mb-2 text-xs font-bold text-slate-700 uppercase tracking-wide">
    Time (min)
  </span>
  <input
    type="number"
    min="0"
    max="60"
    step="1"
    placeholder="âˆ"
    value={timeLimitMinutes || ""}
    onChange={(e) => {
      const val = Number(e.target.value);
      setTimeLimitMinutes(val > 0 ? Math.min(60, val) : 0);
    }}
  />
</label>
```

**ç‰¹ç‚¹**ï¼š
- é»˜è®¤ä¸ºç©ºï¼ˆæ˜¾ç¤º âˆ å ä½ç¬¦ï¼‰
- è¾“å…¥ 0 æˆ–ç©º = æ­£è®¡æ—¶ï¼ˆæ— é™åˆ¶ï¼‰
- è¾“å…¥ 1-60 = å€’è®¡æ—¶ï¼ˆåˆ†é’Ÿï¼‰
- è¶…è¿‡ 60 è‡ªåŠ¨é™åˆ¶ä¸º 60

---

### 2. ä¿®å¤è®¡æ—¶èµ·ç‚¹

#### ä¿®æ”¹å‰ï¼ˆé”™è¯¯ï¼‰

```tsx
const onSubmit = useCallback(() => {
  // ...
  if (!startedAt) setStartedAt(Date.now()); // âŒ æäº¤æ—¶æ‰å¼€å§‹
  // ...
}, []);
```

**é—®é¢˜**ï¼š
- è®¡æ—¶åœ¨æäº¤ï¼ˆEnter æˆ– Checkï¼‰æ—¶æ‰å¼€å§‹
- ç”¨æˆ·æ€è€ƒæ—¶é—´æœªè®¡å…¥
- ç¬¬ä¸€é¢˜å»¶è¯¯ä¸¥é‡

---

#### ä¿®æ”¹åï¼ˆæ­£ç¡®ï¼‰

```tsx
const handleInputChange = (newValue: string) => {
  setValue(newValue);
  
  // Start timer on first valid digit
  if (!startTs && /\d/.test(newValue)) {
    setStartTs(performance.now()); // âœ… ç¬¬ä¸€ä¸ªæ•°å­—æ—¶å¼€å§‹
  }
};

// Also handle paste
<input
  onChange={(e) => handleInputChange(e.target.value)}
  onPaste={(e) => {
    const pastedText = e.clipboardData.getData("text");
    if (!startTs && /\d/.test(pastedText)) {
      setStartTs(performance.now()); // âœ… ç²˜è´´æ—¶ä¹Ÿå¼€å§‹
    }
  }}
/>
```

**ç‰¹ç‚¹**ï¼š
- æ£€æµ‹è¾“å…¥å€¼ä¸­çš„ç¬¬ä¸€ä¸ªæ•°å­—å­—ç¬¦ï¼ˆ`/\d/.test()`ï¼‰
- æ”¯æŒé”®ç›˜è¾“å…¥å’Œç²˜è´´
- åªè§¦å‘ä¸€æ¬¡ï¼ˆ`!startTs` æ¡ä»¶ï¼‰
- ä½¿ç”¨ `performance.now()` é«˜ç²¾åº¦æ—¶é—´

---

### 3. é«˜ç²¾åº¦è®¡æ—¶å®ç°

#### ä½¿ç”¨ performance.now() è€Œé Date.now()

```tsx
const [startTs, setStartTs] = useState<number | null>(null);
const [endTs, setEndTs] = useState<number | null>(null);
const [now, setNow] = useState(() => performance.now());
```

**ä¼˜åŠ¿**ï¼š
- é«˜ç²¾åº¦ï¼šäºšæ¯«ç§’çº§
- å•è°ƒé€’å¢ï¼šä¸å—ç³»ç»Ÿæ—¶é—´è°ƒæ•´å½±å“
- é¿å…æ¼‚ç§»ï¼šåŸºäºå·®å€¼è®¡ç®—ï¼Œä¸ä¾èµ– setInterval æ¬¡æ•°

---

#### æ—¶é—´è®¡ç®—é€»è¾‘

```tsx
const { elapsedMs, remainingMs, timeUp } = useMemo(() => {
  if (!startTs) return { elapsedMs: 0, remainingMs: timeLimitMs, timeUp: false };
  
  const elapsed = endTs ? endTs - startTs : now - startTs;
  
  if (timeLimitMs > 0) {
    const remaining = timeLimitMs - elapsed;
    return {
      elapsedMs: elapsed,
      remainingMs: Math.max(0, remaining),
      timeUp: remaining <= 0,
    };
  }
  
  return { elapsedMs: elapsed, remainingMs: 0, timeUp: false };
}, [startTs, endTs, now, timeLimitMs]);
```

**ç‰¹ç‚¹**ï¼š
- æ­£è®¡æ—¶ï¼š`elapsed = now - startTs`
- å€’è®¡æ—¶ï¼š`remaining = timeLimitMs - elapsed`
- `timeUp` æ ‡å¿—ï¼š`remaining <= 0`
- åŸºäºæ—¶é—´æˆ³å·®å€¼ï¼Œä¸æ˜¯ setInterval æ¬¡æ•°

---

#### UI åˆ·æ–°é¢‘ç‡

```tsx
useEffect(() => {
  if (!startTs || endTs) return;
  const id = window.setInterval(() => setNow(performance.now()), 100);
  return () => window.clearInterval(id);
}, [startTs, endTs]);
```

**ç‰¹ç‚¹**ï¼š
- 100ms åˆ·æ–°ä¸€æ¬¡ï¼ˆæ¯ç§’ 10 æ¬¡ï¼‰
- setInterval åªç”¨äºè§¦å‘ UI æ›´æ–°
- çœŸå®æ—¶é—´ç”± `performance.now()` å·®å€¼å†³å®š
- é¿å…ç´¯ç§¯è¯¯å·®

---

### 4. å€’è®¡æ—¶åˆ° 0 çš„å¤„ç†

#### æ£€æµ‹æ—¶é—´åˆ°

```tsx
const { elapsedMs, remainingMs, timeUp } = useMemo(() => {
  // ...
  if (timeLimitMs > 0) {
    const remaining = timeLimitMs - elapsed;
    return {
      elapsedMs: elapsed,
      remainingMs: Math.max(0, remaining),
      timeUp: remaining <= 0, // âœ… æ—¶é—´åˆ°
    };
  }
  // ...
}, [startTs, endTs, now, timeLimitMs]);
```

---

#### è‡ªåŠ¨ç»“æŸç»ƒä¹ 

```tsx
useEffect(() => {
  if (timeUp && !endTs && !done) {
    queueMicrotask(() => setEndTs(performance.now()));
  }
}, [timeUp, endTs, done]);
```

**ç‰¹ç‚¹**ï¼š
- `timeUp` ä¸º true æ—¶ç«‹å³è§¦å‘
- è®°å½•ç»“æŸæ—¶é—´æˆ³
- ä½¿ç”¨ `queueMicrotask` é¿å… ESLint è­¦å‘Š

---

#### ç¦ç”¨è¾“å…¥

```tsx
{!done && !timeUp && current ? (
  <>
    {/* Question input */}
  </>
) : (
  <>
    {/* Results page */}
  </>
)}
```

**ç‰¹ç‚¹**ï¼š
- `timeUp` æˆ– `done` æ—¶æ˜¾ç¤ºç»“æœé¡µ
- è¾“å…¥æ¡†ä¸å†å¯ç”¨
- è‡ªåŠ¨åˆ‡æ¢åˆ°ç»“æœè§†å›¾

---

### 5. å¢å¼ºçš„ç»“æœç»Ÿè®¡

#### æ–°å¢ç»Ÿè®¡å­—æ®µ

```tsx
const answeredCount = correct + wrong;
const unansweredCount = questions.length - answeredCount;
const accuracyPercent = answeredCount > 0 
  ? Math.round((correct / answeredCount) * 100) 
  : 0;
const actualTimeMs = endTs && startTs ? endTs - startTs : elapsedMs;
const questionsPerMinute = actualTimeMs > 0 
  ? (answeredCount / (actualTimeMs / 60000)).toFixed(1) 
  : "0";
```

**å­—æ®µè¯´æ˜**ï¼š
- `answeredCount`ï¼šå·²å›ç­”é¢˜ç›®æ•°ï¼ˆcorrect + wrongï¼‰
- `unansweredCount`ï¼šæœªå›ç­”é¢˜ç›®æ•°ï¼ˆä»…å€’è®¡æ—¶åˆ° 0 æ—¶å‡ºç°ï¼‰
- `accuracyPercent`ï¼šå‡†ç¡®ç‡ = correct / answeredCountï¼ˆ**ä¸åŒ…æ‹¬æœªå›ç­”**ï¼‰
- `actualTimeMs`ï¼šå®é™…ç”¨æ—¶ï¼ˆæå‰å®Œæˆ or å€’è®¡æ—¶åˆ° 0ï¼‰
- `questionsPerMinute`ï¼šé€Ÿåº¦æŒ‡æ ‡

---

#### ç»“æœé¡µå¸ƒå±€

```tsx
<div className="grid grid-cols-2 lg:grid-cols-3 gap-4 mb-6">
  {/* Answered */}
  <div className="...">
    <div>Answered</div>
    <div>{answeredCount} / {questions.length}</div>
  </div>
  
  {/* Correct */}
  <div className="...">
    <div>Correct</div>
    <div>{correct}</div>
  </div>
  
  {/* Wrong */}
  <div className="...">
    <div>Wrong</div>
    <div>{wrong}</div>
  </div>
  
  {/* Unanswered (conditional) */}
  {unansweredCount > 0 && (
    <div className="...">
      <div>Unanswered</div>
      <div>{unansweredCount}</div>
    </div>
  )}
  
  {/* Accuracy */}
  <div className="...">
    <div>Accuracy</div>
    <div>{answeredCount > 0 ? `${accuracyPercent}%` : "N/A"}</div>
  </div>
  
  {/* Time */}
  <div className="...">
    <div>Time</div>
    <div>{formatMs(actualTimeMs)}</div>
  </div>
  
  {/* Speed */}
  <div className="...">
    <div>Speed</div>
    <div>{questionsPerMinute} /min</div>
  </div>
</div>
```

**ç‰¹ç‚¹**ï¼š
- Unanswered å¡ç‰‡åªåœ¨æœ‰æœªç­”é¢˜ç›®æ—¶æ˜¾ç¤º
- Accuracy æ˜¾ç¤º "N/A" å¦‚æœ answeredCount = 0
- Speed æ˜¾ç¤ºæ¯åˆ†é’Ÿç­”é¢˜æ•°

---

## ğŸ“Š åŠŸèƒ½å¯¹æ¯”

### è®¡æ—¶èµ·ç‚¹

| åœºæ™¯ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|------|--------|--------|
| **ç¬¬ 1 é¢˜** | æäº¤æ—¶å¼€å§‹ | è¾“å…¥ç¬¬ 1 ä¸ªæ•°å­—æ—¶å¼€å§‹ âœ… |
| **ç²˜è´´ç­”æ¡ˆ** | æäº¤æ—¶å¼€å§‹ | ç²˜è´´æ—¶ç«‹å³å¼€å§‹ âœ… |
| **æ€è€ƒæ—¶é—´** | ä¸è®¡å…¥ âŒ | è®¡å…¥ âœ… |
| **æ—¶é—´æº** | `Date.now()` | `performance.now()` âœ… |

---

### å€’è®¡æ—¶æ¨¡å¼

| é…ç½® | è¡Œä¸º | ç»“æœç»Ÿè®¡ |
|------|------|---------|
| **Time ä¸ºç©º** | æ­£è®¡æ—¶ï¼ˆæ— é™åˆ¶ï¼‰ | å…¨éƒ¨å®Œæˆ |
| **Time = 1** | å€’è®¡æ—¶ 1 åˆ†é’Ÿ | æå‰å®Œæˆ or æ—¶é—´åˆ° |
| **Time = 5** | å€’è®¡æ—¶ 5 åˆ†é’Ÿ | æå‰å®Œæˆ or æ—¶é—´åˆ° |

---

### ç»“æœç»Ÿè®¡

| ç»Ÿè®¡é¡¹ | ä¿®æ”¹å‰ | ä¿®æ”¹å |
|--------|--------|--------|
| **Answered** | âŒ æ—  | âœ… X / Total |
| **Correct** | âœ… X | âœ… X |
| **Wrong** | âœ… X | âœ… X |
| **Unanswered** | âŒ æ—  | âœ… Xï¼ˆæ¡ä»¶æ˜¾ç¤ºï¼‰ |
| **Accuracy** | (C+W) è®¡ç®— | âœ… åªè®¡ç®—å·²å›ç­” |
| **Time** | âœ… Total | âœ… Actual |
| **Avg/question** | âœ… Total/Count | âŒ ç§»é™¤ |
| **Speed** | âŒ æ—  | âœ… Questions/min |

---

## ğŸ¨ UI å˜åŒ–

### é…ç½®åŒºï¼ˆæ–°å¢ Time åˆ—ï¼‰

**ä¿®æ”¹å‰**ï¼ˆ4 åˆ—ï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Operationâ”‚ First    â”‚ Second   â”‚ Questionsâ”‚
â”‚    Ã—     â”‚ 1-digit  â”‚ 1-digit  â”‚    10    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ä¿®æ”¹å**ï¼ˆ5 åˆ—ï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Operationâ”‚ First    â”‚ Second   â”‚ Questionsâ”‚ Time(min)â”‚
â”‚    Ã—     â”‚ 1-digit  â”‚ 1-digit  â”‚    10    â”‚    âˆ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### è®¡æ—¶å™¨æ˜¾ç¤º

**æ­£è®¡æ—¶æ¨¡å¼**ï¼ˆTime ä¸ºç©ºï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Question 5/10â”‚
â”‚   â± 0:12    â”‚  â† æ­£è®¡æ—¶
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å€’è®¡æ—¶æ¨¡å¼**ï¼ˆTime = 1ï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Question 5/10â”‚
â”‚   â± 0:48    â”‚  â† å€’è®¡æ—¶
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

å½“ < 10 ç§’æ—¶å˜çº¢ï¼š
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Question 5/10â”‚
â”‚   â± 0:09    â”‚  â† çº¢è‰²è­¦å‘Š
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ä¾§è¾¹æ è®¡æ—¶å™¨

**æ­£è®¡æ—¶**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Timer   â”‚
â”‚  1:23    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å€’è®¡æ—¶**ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚Time Left â”‚
â”‚  0:37    â”‚  â† < 10s æ—¶çº¢è‰²
â”‚ 1 min    â”‚
â”‚  limit   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### ç»“æœé¡µ

**å…¨éƒ¨å®Œæˆ**ï¼ˆæ—  Unansweredï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        âœ… Completed / Great work!     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Answered  â”‚  Correct  â”‚    Wrong      â”‚
â”‚  10 / 10  â”‚     8     â”‚      2        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Accuracy  â”‚   Time    â”‚    Speed      â”‚
â”‚    80%    â”‚  1:45     â”‚   5.7 /min    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**å€’è®¡æ—¶åˆ° 0**ï¼ˆæœ‰ Unansweredï¼‰ï¼š
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       â° Time's Up! / Practice ended  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Answered  â”‚  Correct  â”‚    Wrong      â”‚
â”‚   7 / 10  â”‚     6     â”‚      1        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚Unanswered â”‚ Accuracy  â”‚    Time       â”‚
â”‚     3     â”‚    86%    â”‚   1:00        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚            Speed: 7.0 /min            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### 1. é«˜ç²¾åº¦æ—¶é—´æˆ³

```tsx
// ä½¿ç”¨ performance.now() è€Œé Date.now()
const [startTs, setStartTs] = useState<number | null>(null);
const [endTs, setEndTs] = useState<number | null>(null);
const [now, setNow] = useState(() => performance.now());
```

**ä¸ºä»€ä¹ˆä½¿ç”¨ performance.now()ï¼Ÿ**

| ç‰¹æ€§ | Date.now() | performance.now() |
|------|------------|-------------------|
| **ç²¾åº¦** | æ¯«ç§’ | äºšæ¯«ç§’ï¼ˆå¾®ç§’ï¼‰ |
| **å•è°ƒæ€§** | âŒ å—ç³»ç»Ÿæ—¶é—´å½±å“ | âœ… å•è°ƒé€’å¢ |
| **èµ·ç‚¹** | Unix çºªå…ƒ | é¡µé¢åŠ è½½æ—¶ |
| **é€‚ç”¨åœºæ™¯** | æ—¥æœŸ/æ—¶é—´æˆ³ | æ€§èƒ½æµ‹é‡/è®¡æ—¶ |

---

### 2. æ£€æµ‹ç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°å­—

```tsx
const handleInputChange = (newValue: string) => {
  setValue(newValue);
  
  // Regex: /\d/ matches any digit [0-9]
  if (!startTs && /\d/.test(newValue)) {
    setStartTs(performance.now());
  }
};
```

**æµ‹è¯•ç”¨ä¾‹**ï¼š

| è¾“å…¥ | `/\d/.test()` | è§¦å‘è®¡æ—¶ï¼Ÿ |
|------|---------------|-----------|
| `""` | false | âŒ |
| `"-"` | false | âŒ |
| `"1"` | true | âœ… |
| `"-5"` | true | âœ… |
| `"abc"` | false | âŒ |

---

### 3. é¿å…ç´¯ç§¯è¯¯å·®

**é”™è¯¯æ–¹å¼**ï¼ˆåŸºäº setInterval æ¬¡æ•°ï¼‰ï¼š
```tsx
// âŒ ä¸æ¨è
let elapsed = 0;
setInterval(() => {
  elapsed += 100; // ç´¯ç§¯è¯¯å·®
}, 100);
```

**æ­£ç¡®æ–¹å¼**ï¼ˆåŸºäºæ—¶é—´æˆ³å·®å€¼ï¼‰ï¼š
```tsx
// âœ… æ¨è
const startTs = performance.now();
setInterval(() => {
  const now = performance.now();
  const elapsed = now - startTs; // ç²¾ç¡®å·®å€¼
}, 100);
```

---

### 4. ç²˜è´´äº‹ä»¶å¤„ç†

```tsx
<input
  onChange={(e) => handleInputChange(e.target.value)}
  onPaste={(e) => {
    const pastedText = e.clipboardData.getData("text");
    if (!startTs && /\d/.test(pastedText)) {
      setStartTs(performance.now());
    }
  }}
/>
```

**è¦†ç›–åœºæ™¯**ï¼š
- âœ… é”®ç›˜è¾“å…¥æ•°å­—
- âœ… ç²˜è´´åŒ…å«æ•°å­—çš„æ–‡æœ¬
- âœ… ç²˜è´´çº¯æ•°å­—

---

## âœ… åŠŸèƒ½éªŒè¯æ¸…å•

### è®¡æ—¶èµ·ç‚¹

- [x] è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—ç«‹å³å¼€å§‹è®¡æ—¶
- [x] ç²˜è´´æ•°å­—ä¹Ÿç«‹å³å¼€å§‹è®¡æ—¶
- [x] è¾“å…¥éæ•°å­—å­—ç¬¦ä¸è§¦å‘è®¡æ—¶
- [x] è®¡æ—¶åªè§¦å‘ä¸€æ¬¡ï¼ˆä¸é‡å¤ï¼‰
- [x] ä½¿ç”¨ `performance.now()` é«˜ç²¾åº¦

### æ­£è®¡æ—¶æ¨¡å¼ï¼ˆTime ä¸ºç©ºï¼‰

- [x] é»˜è®¤æ˜¾ç¤º âˆ å ä½ç¬¦
- [x] è¾“å…¥ 0 æˆ–æ¸…ç©ºä¹Ÿæ˜¯æ­£è®¡æ—¶
- [x] è®¡æ—¶å™¨æ­£å‘å¢é•¿
- [x] å®Œæˆåæ˜¾ç¤ºæ€»ç”¨æ—¶
- [x] æ—  Unanswered ç»Ÿè®¡

### å€’è®¡æ—¶æ¨¡å¼ï¼ˆTime = 1ï¼‰

- [x] è¾“å…¥ 1 æ˜¾ç¤º "1 min limit"
- [x] è®¡æ—¶å™¨å€’å‘å‡å°‘
- [x] < 10 ç§’æ—¶æ–‡å­—å˜çº¢
- [x] æå‰å®Œæˆï¼šç«‹å³æ˜¾ç¤ºç»“æœ
- [x] å€’è®¡æ—¶åˆ° 0ï¼šç«‹å³æ˜¾ç¤ºç»“æœ
- [x] å€’è®¡æ—¶åˆ° 0 åç¦ç”¨è¾“å…¥

### ç»“æœç»Ÿè®¡

- [x] Answered æ˜¾ç¤º X / Total
- [x] Correct æ•°é‡æ­£ç¡®
- [x] Wrong æ•°é‡æ­£ç¡®
- [x] Unanswered æ­£ç¡®æ˜¾ç¤ºï¼ˆå€’è®¡æ—¶åˆ° 0ï¼‰
- [x] Accuracy åªè®¡ç®—å·²å›ç­”é¢˜ç›®
- [x] Accuracy æ˜¾ç¤º N/Aï¼ˆansweredCount = 0ï¼‰
- [x] Time æ˜¾ç¤ºå®é™…ç”¨æ—¶
- [x] Speed æ˜¾ç¤ºæ¯åˆ†é’Ÿç­”é¢˜æ•°

### ä»£ç è´¨é‡

- [x] ESLint é€šè¿‡ï¼ˆ0 é”™è¯¯ï¼‰
- [x] TypeScript ç±»å‹æ­£ç¡®
- [x] é¿å… setState-in-effect è­¦å‘Š

---

## ğŸš€ æµ‹è¯•æ­¥éª¤

### æµ‹è¯• 1: è®¡æ—¶èµ·ç‚¹ä¿®å¤ï¼ˆæ­£è®¡æ—¶ï¼‰

1. **å¯åŠ¨å¼€å‘æœåŠ¡å™¨**
   ```bash
   npm run dev
   ```

2. **è®¿é—®é¦–é¡µ**
   ```
   http://localhost:3000
   ```

3. **ä¸å¡« Time limit**ï¼ˆé»˜è®¤æ­£è®¡æ—¶ï¼‰

4. **è§‚å¯Ÿè®¡æ—¶å™¨**
   - âœ… åˆå§‹æ˜¾ç¤º "Not started"

5. **åœ¨ç­”æ¡ˆæ¡†è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—**ï¼ˆä¾‹å¦‚è¾“å…¥ "5"ï¼‰
   - âœ… è®¡æ—¶å™¨ç«‹å³å¼€å§‹ï¼ˆä¾‹å¦‚æ˜¾ç¤º "0:00"ï¼‰
   - âœ… ä¸éœ€è¦æŒ‰ Enter

6. **ç»§ç»­ç­”é¢˜**
   - âœ… è®¡æ—¶å™¨æŒç»­å¢é•¿
   - âœ… æäº¤ç­”æ¡ˆåè®¡æ—¶å™¨ç»§ç»­

7. **å®Œæˆæ‰€æœ‰é¢˜ç›®**
   - âœ… ç»“æœé¡µæ˜¾ç¤ºï¼š
     - Answered: 10 / 10
     - Correct: X
     - Wrong: Y
     - Accuracy: Z%ï¼ˆåŸºäºå·²å›ç­”ï¼‰
     - Time: å®é™…ç”¨æ—¶
     - Speed: X.X /min

---

### æµ‹è¯• 2: å€’è®¡æ—¶æ¨¡å¼ï¼ˆ1 åˆ†é’Ÿï¼Œæå‰å®Œæˆï¼‰

1. **åˆ·æ–°é¡µé¢**

2. **è®¾ç½® Time limit = 1**ï¼ˆåˆ†é’Ÿï¼‰

3. **è§‚å¯Ÿç•Œé¢å˜åŒ–**
   - âœ… æ ‡é¢˜ä¸‹æ˜¾ç¤º "â€¢ 1 min limit"
   - âœ… ä¾§è¾¹æ æ˜¾ç¤º "Time Left"

4. **è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—**
   - âœ… å€’è®¡æ—¶ç«‹å³å¼€å§‹ï¼ˆä¾‹å¦‚æ˜¾ç¤º "0:59"ï¼‰

5. **å¿«é€Ÿç­”å®Œæ‰€æœ‰é¢˜ç›®**ï¼ˆåœ¨ 1 åˆ†é’Ÿå†…ï¼‰
   - âœ… å®Œæˆåç«‹å³æ˜¾ç¤ºç»“æœé¡µ
   - âœ… ç»“æœé¡µæ˜¾ç¤ºï¼š
     - Answered: 10 / 10
     - Correct: X
     - Wrong: Y
     - Accuracy: Z%
     - Time: å®é™…ç”¨æ—¶ï¼ˆ< 1 åˆ†é’Ÿï¼‰
     - Speed: X.X /min
   - âœ… **æ—  Unanswered å¡ç‰‡**

---

### æµ‹è¯• 3: å€’è®¡æ—¶æ¨¡å¼ï¼ˆ1 åˆ†é’Ÿï¼Œæ—¶é—´åˆ°ï¼‰

1. **åˆ·æ–°é¡µé¢**

2. **è®¾ç½® Time limit = 1**ï¼ˆåˆ†é’Ÿï¼‰
3. **è®¾ç½® Questions = 50**ï¼ˆç¡®ä¿æ— æ³•åœ¨ 1 åˆ†é’Ÿå†…å®Œæˆï¼‰

4. **è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—**
   - âœ… å€’è®¡æ—¶å¼€å§‹

5. **æ…¢æ…¢ç­”é¢˜ï¼Œç­‰å¾…å€’è®¡æ—¶åˆ° 0**
   - âœ… å€’è®¡æ—¶åˆ° < 10 ç§’æ—¶æ–‡å­—å˜çº¢
   - âœ… å€’è®¡æ—¶åˆ° 0:00 æ—¶ç«‹å³æ˜¾ç¤ºç»“æœé¡µ
   - âœ… è¾“å…¥æ¡†è¢«ç¦ç”¨ï¼ˆæ— æ³•ç»§ç»­ç­”é¢˜ï¼‰

6. **æ£€æŸ¥ç»“æœé¡µ**
   - âœ… æ ‡é¢˜æ˜¾ç¤º "Time's Up!" / "Practice ended"
   - âœ… Answered: X / 50ï¼ˆX < 50ï¼‰
   - âœ… Correct: Y
   - âœ… Wrong: Z
   - âœ… **Unanswered: 50 - X**ï¼ˆæ˜¾ç¤º Unanswered å¡ç‰‡ï¼‰
   - âœ… Accuracy: Y / X * 100%ï¼ˆåªè®¡ç®—å·²å›ç­”ï¼‰
   - âœ… Time: 1:00ï¼ˆå€’è®¡æ—¶é™åˆ¶ï¼‰
   - âœ… Speed: X /min

---

### æµ‹è¯• 4: ç²˜è´´è§¦å‘è®¡æ—¶

1. **åˆ·æ–°é¡µé¢**

2. **ä¸è¾“å…¥æ•°å­—ï¼Œç›´æ¥å¤åˆ¶ "42" å¹¶ç²˜è´´åˆ°ç­”æ¡ˆæ¡†**

3. **æ£€æŸ¥è®¡æ—¶å™¨**
   - âœ… ç²˜è´´æ—¶ç«‹å³å¼€å§‹è®¡æ—¶

---

### æµ‹è¯• 5: è¾“å…¥éæ•°å­—ä¸è§¦å‘

1. **åˆ·æ–°é¡µé¢**

2. **è¾“å…¥ "-" æˆ–å…¶ä»–éæ•°å­—å­—ç¬¦**

3. **æ£€æŸ¥è®¡æ—¶å™¨**
   - âœ… ä»ç„¶æ˜¾ç¤º "Not started"
   - âœ… åªæœ‰è¾“å…¥æ•°å­—åæ‰å¼€å§‹

---

### æµ‹è¯• 6: Accuracy è®¡ç®—éªŒè¯

**åœºæ™¯ A**ï¼šå…¨éƒ¨å®Œæˆ
- Questions: 10
- Correct: 8
- Wrong: 2
- Unanswered: 0
- **Expected Accuracy**: 8 / 10 = 80%

**åœºæ™¯ B**ï¼šå€’è®¡æ—¶åˆ° 0
- Questions: 20
- Answered: 12ï¼ˆCorrect: 10, Wrong: 2ï¼‰
- Unanswered: 8
- **Expected Accuracy**: 10 / 12 = 83%ï¼ˆ**ä¸æ˜¯** 10 / 20 = 50%ï¼‰

**åœºæ™¯ C**ï¼šæ— å›ç­”ï¼ˆæç«¯æƒ…å†µï¼‰
- Questions: 10
- Answered: 0
- **Expected Accuracy**: N/A

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

### è®¡æ—¶ç²¾åº¦

| æ–¹æ³• | ç²¾åº¦ | ç´¯ç§¯è¯¯å·® | é€‚ç”¨ |
|------|------|---------|------|
| **Date.now() + setInterval è®¡æ•°** | ä½ | é«˜ | âŒ |
| **Date.now() + æ—¶é—´æˆ³å·®å€¼** | ä¸­ | ä½ | âœ… |
| **performance.now() + æ—¶é—´æˆ³å·®å€¼** | é«˜ | æä½ | âœ…âœ… |

---

### åˆ·æ–°é¢‘ç‡å½±å“

| é¢‘ç‡ | CPU å ç”¨ | è§†è§‰æµç•…åº¦ | é€‚ç”¨ |
|------|---------|-----------|------|
| **1000msï¼ˆ1 æ¬¡/ç§’ï¼‰** | ä½ | ä½ | âŒ æ„Ÿè§‰å¡é¡¿ |
| **500msï¼ˆ2 æ¬¡/ç§’ï¼‰** | ä½ | ä¸­ | âœ… å¯æ¥å— |
| **250msï¼ˆ4 æ¬¡/ç§’ï¼‰** | ä¸­ | é«˜ | âœ… åŸå®ç° |
| **100msï¼ˆ10 æ¬¡/ç§’ï¼‰** | ä¸­ | å¾ˆé«˜ | âœ…âœ… æ–°å®ç° |
| **16msï¼ˆ60 æ¬¡/ç§’ï¼‰** | é«˜ | æé«˜ | âš ï¸ å¯èƒ½è¿‡åº¦ |

**é€‰æ‹© 100ms çš„åŸå› **ï¼š
- è§†è§‰è¶³å¤Ÿæµç•…ï¼ˆæ¯ç§’ 10 æ¬¡æ›´æ–°ï¼‰
- CPU å ç”¨é€‚ä¸­
- å€’è®¡æ—¶å‰©ä½™ < 10 ç§’æ—¶ä»æ¸…æ™°å¯è§

---

## ğŸ¯ å®Œæˆçš„éœ€æ±‚

### âœ… é—®é¢˜ 1: è®¡æ—¶èµ·ç‚¹å»¶è¯¯

- [x] è®¡æ—¶ä»ç¬¬ä¸€ä¸ªæœ‰æ•ˆæ•°å­—è¾“å…¥æ—¶å¼€å§‹
- [x] ä¸æ˜¯æäº¤æ—¶å¼€å§‹
- [x] æ”¯æŒé”®ç›˜è¾“å…¥å’Œç²˜è´´
- [x] ä½¿ç”¨ `performance.now()` é«˜ç²¾åº¦

### âœ… é—®é¢˜ 2: å¯é€‰å€’è®¡æ—¶

- [x] æ–°å¢ Time limit è¾“å…¥æ¡†
- [x] é»˜è®¤ç©º = æ­£è®¡æ—¶
- [x] è¾“å…¥åˆ†é’Ÿæ•° = å€’è®¡æ—¶
- [x] å€’è®¡æ—¶åˆ° 0 ç«‹å³ç»“æŸ
- [x] æå‰å®Œæˆä¹Ÿç«‹å³ç»“æŸ
- [x] å€’è®¡æ—¶ < 10 ç§’æ—¶çº¢è‰²è­¦å‘Š

### âœ… é—®é¢˜ 3: ç»“æœç»Ÿè®¡å¢å¼º

- [x] Answered: X / Total
- [x] Correct: X
- [x] Wrong: X
- [x] Unanswered: Xï¼ˆæ¡ä»¶æ˜¾ç¤ºï¼‰
- [x] Accuracy: åªè®¡ç®—å·²å›ç­”
- [x] Time: å®é™…ç”¨æ—¶
- [x] Speed: Questions per minute

---

## ğŸ‰ æ€»ç»“

| åŠŸèƒ½ | å®ç°æ–¹å¼ | æ•ˆæœ |
|------|---------|------|
| **è®¡æ—¶èµ·ç‚¹** | ç¬¬ä¸€ä¸ªæ•°å­—è¾“å…¥ | ç²¾ç¡®è®¡æ—¶ âœ… |
| **é«˜ç²¾åº¦è®¡æ—¶** | performance.now() | æ— æ¼‚ç§» âœ… |
| **æ­£è®¡æ—¶** | Time ä¸ºç©º | æ— é™åˆ¶ âœ… |
| **å€’è®¡æ—¶** | Time = åˆ†é’Ÿæ•° | è‡ªåŠ¨ç»“æŸ âœ… |
| **æ—¶é—´åˆ°å¤„ç†** | ç¦ç”¨è¾“å…¥ + æ˜¾ç¤ºç»“æœ | ç«‹å³åé¦ˆ âœ… |
| **ç»“æœç»Ÿè®¡** | åŒºåˆ† answered/unanswered | å‡†ç¡®ç‡æ­£ç¡® âœ… |

**æ‰€æœ‰åŠŸèƒ½å·²å®Œæˆå¹¶é€šè¿‡æµ‹è¯•ï¼** ğŸŠ
